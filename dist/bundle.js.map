{"version":3,"sources":["webpack://EmailsInput/webpack/universalModuleDefinition","webpack://EmailsInput/webpack/bootstrap","webpack://EmailsInput/./src/component/Component.js","webpack://EmailsInput/./src/component/EmailsInputModel.js","webpack://EmailsInput/./src/component/EmailsInputView.js","webpack://EmailsInput/./src/component/EmailsInput.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Component","Error","this","_element","createElement","getTemplate","template","newElement","document","innerHTML","firstChild","EmailsModel","emails","onAdd","onRemove","_emails","Set","_onRemove","_onAdd","size","email","delete","trim","has","add","isValidClass","test","container","super","_container","_handleKeyPress","_handleAddEmail","_handleDeleteEmail","_handleClickDelete","_handleBlurInput","_handleClickAddRandom","_handleClickGetCount","_handlePaste","event","target","_setInputKeydownHandler","_setInputBlurHandler","_setClickDeleteEmailHandler","_setClickAddRandomHandler","_setClickGetCount","_setInputPasteHandler","keyCode","preventDefault","_addEmailEvent","getElement","querySelector","insertAdjacentHTML","templateEmail","remove","className","parentNode","outerText","getRandomEmail","alert","pastedData","clipboardData","originalEvent","getData","_parseEmails","replace","split","forEach","addEventListener","userName","chars","lengthUserName","Math","floor","random","charAt","length","getEmails","map","join","append","_afterRender"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"EmailsInput\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EmailsInput\"] = factory();\n\telse\n\t\troot[\"EmailsInput\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default class Component {\r\n  constructor() {\r\n    if (new.target === Component) {\r\n      throw new Error(`Can't instantiate Component, only concrete one.`);\r\n    }\r\n\r\n    this._element = null;\r\n  }\r\n\r\n  getTemplate() {\r\n    throw new Error(`Abstract method not implemented: getTemplate`);\r\n  }\r\n\r\n  getElement() {\r\n    if (!this._element) {\r\n      this._element = this.createElement(this.getTemplate());\r\n    }\r\n\r\n    return this._element;\r\n  }\r\n\r\n  createElement (template) {\r\n    const newElement = document.createElement(`div`);\r\n    newElement.innerHTML = template;\r\n\r\n    return newElement.firstChild;\r\n  };\r\n\r\n  removeElement() {\r\n    this._element = null;\r\n  }\r\n  \r\n}\r\n","export default class EmailsModel {\r\n  constructor(emails, onAdd, onRemove) {\r\n    this._emails = new Set(emails);\r\n    this._onRemove = onRemove;\r\n    this._onAdd = onAdd;\r\n  }\r\n\r\n  getEmails() {\r\n    return this._emails;\r\n  }\r\n\r\n  get size() {\r\n    return this._emails.size;\r\n  }\r\n\r\n  remove(email) {\r\n    this._emails.delete(email);\r\n    this._onRemove(email);\r\n  }\r\n\r\n  add(email) {\r\n    email = email.trim();\r\n    if(!email) return false;\r\n\r\n    if(this._emails.has(email)) return false;\r\n\r\n    this._onAdd(email);\r\n    this._emails.add(email);    \r\n    \r\n    return true;\r\n  }\r\n    \r\n}\r\n","export const createTemplate = (emails) =>\r\n  `<section class=\"email-input__main\">    \r\n    <div class=\"email-input__editer\">\r\n      <span class=\"email-input__head-text\"> Share <strong>Board name</strong> with other </span>\r\n      <div class=\"email-input__emails\">\r\n        <span id=\"email-input__emails-list\">${emails\r\n          .map((email) => templateEmail(email))\r\n          .join(\"\")}\r\n        </span>      \r\n        <span style=\"display:inline-block;\">\r\n          <input                \r\n              id=\"email-input__input\"\r\n              placeholder = \"add more people...\"            \r\n          />\r\n        </span>  \r\n      </div>\r\n    </div>\r\n    <div class=\"email-input__panel-buttons\">\r\n      <button id=\"email-input__button-add-random\" class=\"email-input__button\">Add email</button>\r\n      <button id=\"email-input__button-get-count\" class=\"email-input__button\">Get email count</button>    \r\n    </div>\r\n  </section>`;\r\n\r\nexport const templateEmail = (email) =>\r\n  `<span class=\"${\r\n    isValidClass(email) ? \"email-input__email\" : \"email-input__invalid\"\r\n  }\" name=\"email-input__email-${email}\"> \r\n    ${email} \r\n    <i class=\"email-input__email-delete\"></i> \r\n  </span>`;\r\n\r\nconst isValidClass = (email) => /\\S+@\\S+\\.\\S+/.test(email);","import Component from \"./Component.js\";\nimport EmailsModel from \"./EmailsInputModel.js\";\nimport {createTemplate} from \"./EmailsInputView.js\";\nimport \"./EmailsInput.css\";\n\nexport default class EmailsInput extends Component {\n  constructor(container, emails) {\n    super();\n    this._container = container;\n    this._handleKeyPress = this._handleKeyPress.bind(this);\n    this._handleAddEmail = this._handleAddEmail.bind(this);\n    this._handleDeleteEmail = this._handleDeleteEmail.bind(this);\n    this._handleClickDelete = this._handleClickDelete.bind(this);\n    this._handleBlurInput = this._handleBlurInput.bind(this);\n    this._handleClickAddRandom = this._handleClickAddRandom.bind(this);\n    this._handleClickGetCount = this._handleClickGetCount.bind(this);\n    this._handlePaste = this._handlePaste.bind(this);\n\n    this._emails = new EmailsModel(\n      emails,\n      this._handleAddEmail,\n      this._handleDeleteEmail\n    );\n  }\n\n  _addEmailEvent(event) {\n    const isSuccess = this._emails.add(event.target.value);\n    isSuccess && (event.target.value = ``);\n  }  \n\n  _afterRender() {\n    this._setInputKeydownHandler();\n    this._setInputBlurHandler();\n    this._setClickDeleteEmailHandler();\n    this._setClickAddRandomHandler();\n    this._setClickGetCount();\n    this._setInputPasteHandler();\n  }\n\n  _handleKeyPress(event) {\n    if (!(event.keyCode === 13 || event.key == `,`)) return;\n    event.preventDefault();\n    this._addEmailEvent(event);\n  }\n\n  _handleAddEmail(email) {\n    this.getElement()\n      .querySelector(`#email-input__emails-list`)\n      .insertAdjacentHTML(`beforeEnd`, templateEmail(email));\n  }\n\n  _handleDeleteEmail(email) {\n    this.getElement()\n      .querySelector(`span[name=\"email-input__email-${email}\"]`)\n      .remove();\n  }\n\n  _handleBlurInput(event) {\n    const isSuccess = this._emails.add(event.target.value);\n    isSuccess && (event.target.value = ``);\n  }\n\n  _handleClickDelete({ target }) {\n    if (target.className !== `email-input__email-delete`) return;\n\n    const spanWithEmail = target.parentNode;\n    const email = spanWithEmail.outerText.trim();\n\n    this._emails.remove(email);\n  }\n\n  _handleClickAddRandom() {\n    this._emails.add(this.getRandomEmail());\n  }\n\n  _handleClickGetCount() {\n    alert(this._emails.size);\n  }\n\n  _handlePaste(event) {    \n    var clipboardData = event.clipboardData || event.originalEvent.clipboardData || window.clipboardData;\n    var pastedData = clipboardData.getData('text');\n    this._parseEmails(pastedData);\n    event.preventDefault();\n  }\n\n  _parseEmails(value) {\n    const temp = value.replace(/\\s/g, `,`);\n    let emails = temp.split(`,`);\n    emails.forEach((email) => this._emails.add(email));\n  }\n\n  _setInputKeydownHandler() {\n    this.getElement()\n      .querySelector(`#email-input__input`)\n      .addEventListener(`keydown`, this._handleKeyPress);\n  }\n\n  _setInputBlurHandler() {\n    this.getElement()\n      .querySelector(`#email-input__input`)\n      .addEventListener(`blur`, this._handleBlurInput);\n  }\n\n  _setInputPasteHandler() {\n    this.getElement()\n      .querySelector(`#email-input__input`)\n      .addEventListener(`paste`, this._handlePaste);\n  }\n\n  _setClickDeleteEmailHandler() {\n    this.getElement()\n      .querySelector(`#email-input__emails-list`)\n      .addEventListener(`click`, this._handleClickDelete);\n  }\n\n  _setClickAddRandomHandler() {\n    this.getElement()\n      .querySelector(`#email-input__button-add-random`)\n      .addEventListener(`click`, this._handleClickAddRandom);\n  }\n\n  _setClickGetCount() {\n    this.getElement()\n      .querySelector(`#email-input__button-get-count`)\n      .addEventListener(`click`, this._handleClickGetCount);\n  }\n\n  _setClickGetCount() {\n    this.getElement()\n      .querySelector(`#email-input__button-get-count`)\n      .addEventListener(`click`, this._handleClickGetCount);\n  }\n\n  getRandomEmail() {\n    let userName = ``;    \n    const chars = `abcdefghijklmnopqrstuvwxyz0123456789`;\n\n    const lengthUserName = 4 + Math.floor(Math.random() * 5);\n\n    for (let i = 0; i < lengthUserName; i++) {\n      userName += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n\n    return `${userName}@gmail.com`;\n  }\n\n  getTemplate() {\n    return createTemplate([...this._emails.getEmails()]);\n  }\n\n  render() {\n    this._container.append(this.getElement());\n    this._afterRender();\n  }\n};\n"],"sourceRoot":""}